version: "2.0"
tasks:
  - feature_id: ensure-dirs
    title: Ensure Log/Config Dirs
    owner_agents: [AI Fabricator]
    window: am
    healthcheck: logs/project/ensure_dirs.log
    command: bash -lc 'bash tools/ensure_dirs.sh . > logs/project/ensure_dirs.log 2>&1 || true'
  - feature_id: preflight
    title: Preflight Validation
    owner_agents: [AI Reverse Engineer of Thought, AI Cloud Symbiote]
    window: am
    healthcheck: logs/project/preflight.log
    command: bash -lc '/usr/bin/python3 tools/preflight.py > /dev/null 2>&1 || true'
  - feature_id: absorb-and-sync
    title: GitHub Memory Absorb & Sync
    owner_agents: [AI Genesis, AI Time Architect]
    window: am
    healthcheck: logs/absorb/absorb_guard.log
    command: bash -lc 'if [ -f config/absorb_cmd.txt ]; then sh -c "$(cat config/absorb_cmd.txt)"; else echo "No absorb_cmd.txt"; fi'
  - feature_id: catchup-am
    title: AM Catch-up Guard
    owner_agents: [AI Time Architect]
    window: pm
    healthcheck: logs/project/am_catchup.log
    command: bash -lc '/usr/bin/python3 tools/catchup_guard.py am > logs/project/am_catchup.log 2>&1 || true'
  - feature_id: catchup-pm
    title: PM Catch-up Guard
    owner_agents: [AI Time Architect]
    window: am
    healthcheck: logs/project/pm_catchup.log
    command: bash -lc '/usr/bin/python3 tools/catchup_guard.py pm > logs/project/pm_catchup.log 2>&1 || true'
  - feature_id: vpn-test
    title: VPN Testing Suite (placeholder)
    owner_agents: [AI Sandbox Engineer, AI Reverse Engineer of Thought]
    window: pm
    healthcheck: logs/security/vpn_tests/latest.log
    command: bash -lc 'echo Run VPN tests; true'
  - feature_id: status-report
    title: Status Report Synthesis (CSV-aware)
    owner_agents: [AI Thought Distiller, AI Feedback Looper]
    window: pm
    healthcheck: logs/reports/status.log
    command: bash -lc '/usr/bin/python3 tools/status_report_builder.py > /dev/null 2>&1 || true'
  - feature_id: daily-summary
    title: Daily Repair Summary
    owner_agents: [AI Thought Distiller]
    window: pm
    healthcheck: memory/logs/repair/summary_exists
    command: bash -lc '/usr/bin/python3 tools/gen_status_report.py > /dev/null 2>&1 || true'
  - feature_id: weekly-reminder
    title: Weekly Update Reminder (placeholder)
    owner_agents: [AI Feedback Looper]
    window: weekly
    healthcheck: logs/reports/update_reminder.log
    command: bash -lc 'echo Weekly reminder; true'
  - feature_id: monthly-audit
    title: Monthly Security Audit (placeholder)
    owner_agents: [AI Consensus Democracy, AI Post-Singularity Engineer]
    window: monthly
    healthcheck: logs/security/audit.log
    command: bash -lc 'echo Security audit; true'
